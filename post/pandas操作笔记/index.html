<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Pandaså­¦ä¹ ç¬”è®° | é£å¹ä¸åœ</title>
<meta name="keywords" content="pandas, Python" />
<meta name="description" content="Pandasç¬”è®° æœ€ä½³é˜…è¯»ä½“éªŒè¯·é˜…è¯»ç¬”è®°åŸæ–‡
ä»€ä¹ˆæ˜¯Pandasï¼Ÿ ä¸€ä¸ªå¼€æºçš„ Pythonç±»åº“ï¼šç”¨äºæ•°æ®åˆ†æã€æ•°æ®å¤„ç†ã€æ•°æ®å¯è§†åŒ–
  é«˜æ€§èƒ½
  å®¹æ˜“ä½¿ç”¨çš„æ•°æ®ç»“æ„
  å®¹æ˜“ä½¿ç”¨çš„æ•°æ®åˆ†æå·¥å…·
  å¾ˆæ–¹ä¾¿å’Œå…¶å®ƒç±»åº“ä¸€èµ·ä½¿ç”¨
  numpyï¼šç”¨äºæ•°å­¦è®¡ç®—
  scikit- learnï¼šç”¨äºæœºå™¨å­¦ä¹ 
  Pandas è¯»å–æ•°æ® Pandas éœ€è¦å…ˆè¯»å–è¡¨æ ¼ç±»å‹çš„æ•°æ®
è¯»å–æ–‡ä»¶   è¯»å–csvæ–‡ä»¶ ratings = pd.read_csv(fpath)
  è¯»å–txtæ–‡ä»¶ pvuv = pd.read_csv()
  pvuv = pd.read_csv( fpath, sep=&#34;\t&#34;, header=None, names=[&#39;pdate&#39;, &#39;pv&#39;, &#39;uv&#39;] # æŒ‡å®šåˆ—å )   è¯»å–excelæ–‡ä»¶ pvuv = pd.read_excel(fpath)
  è¯»å– sqlæ–‡ä»¶ mysql_page = pd.read_sql(&quot;select * from crazyant_pvuv&quot;, con=conn)">
<meta name="author" content="">
<link rel="canonical" href="https://shiluanzzz.github.io/post/pandas%E6%93%8D%E4%BD%9C%E7%AC%94%E8%AE%B0/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.8291fbae80a381aa8a9592828bb9f9682c551756e0453d50b599e4493b8f9eba.css" integrity="sha256-gpH7roCjgaqKlZKCi7n5aCxVF1bgRT1QtZnkSTuPnro=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://shiluanzzz.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://shiluanzzz.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://shiluanzzz.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://shiluanzzz.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://shiluanzzz.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.89.4" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += 'has-jax';
    }
});
</script>

<style>
code.has-jax{
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #f03535;
}
</style><meta property="og:title" content="Pandaså­¦ä¹ ç¬”è®°" />
<meta property="og:description" content="Pandasç¬”è®° æœ€ä½³é˜…è¯»ä½“éªŒè¯·é˜…è¯»ç¬”è®°åŸæ–‡
ä»€ä¹ˆæ˜¯Pandasï¼Ÿ ä¸€ä¸ªå¼€æºçš„ Pythonç±»åº“ï¼šç”¨äºæ•°æ®åˆ†æã€æ•°æ®å¤„ç†ã€æ•°æ®å¯è§†åŒ–
  é«˜æ€§èƒ½
  å®¹æ˜“ä½¿ç”¨çš„æ•°æ®ç»“æ„
  å®¹æ˜“ä½¿ç”¨çš„æ•°æ®åˆ†æå·¥å…·
  å¾ˆæ–¹ä¾¿å’Œå…¶å®ƒç±»åº“ä¸€èµ·ä½¿ç”¨
  numpyï¼šç”¨äºæ•°å­¦è®¡ç®—
  scikit- learnï¼šç”¨äºæœºå™¨å­¦ä¹ 
  Pandas è¯»å–æ•°æ® Pandas éœ€è¦å…ˆè¯»å–è¡¨æ ¼ç±»å‹çš„æ•°æ®
è¯»å–æ–‡ä»¶   è¯»å–csvæ–‡ä»¶ ratings = pd.read_csv(fpath)
  è¯»å–txtæ–‡ä»¶ pvuv = pd.read_csv()
  pvuv = pd.read_csv( fpath, sep=&#34;\t&#34;, header=None, names=[&#39;pdate&#39;, &#39;pv&#39;, &#39;uv&#39;] # æŒ‡å®šåˆ—å )   è¯»å–excelæ–‡ä»¶ pvuv = pd.read_excel(fpath)
  è¯»å– sqlæ–‡ä»¶ mysql_page = pd.read_sql(&quot;select * from crazyant_pvuv&quot;, con=conn)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://shiluanzzz.github.io/post/pandas%E6%93%8D%E4%BD%9C%E7%AC%94%E8%AE%B0/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-07-30T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2020-07-30T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Pandaså­¦ä¹ ç¬”è®°"/>
<meta name="twitter:description" content="Pandasç¬”è®° æœ€ä½³é˜…è¯»ä½“éªŒè¯·é˜…è¯»ç¬”è®°åŸæ–‡
ä»€ä¹ˆæ˜¯Pandasï¼Ÿ ä¸€ä¸ªå¼€æºçš„ Pythonç±»åº“ï¼šç”¨äºæ•°æ®åˆ†æã€æ•°æ®å¤„ç†ã€æ•°æ®å¯è§†åŒ–
  é«˜æ€§èƒ½
  å®¹æ˜“ä½¿ç”¨çš„æ•°æ®ç»“æ„
  å®¹æ˜“ä½¿ç”¨çš„æ•°æ®åˆ†æå·¥å…·
  å¾ˆæ–¹ä¾¿å’Œå…¶å®ƒç±»åº“ä¸€èµ·ä½¿ç”¨
  numpyï¼šç”¨äºæ•°å­¦è®¡ç®—
  scikit- learnï¼šç”¨äºæœºå™¨å­¦ä¹ 
  Pandas è¯»å–æ•°æ® Pandas éœ€è¦å…ˆè¯»å–è¡¨æ ¼ç±»å‹çš„æ•°æ®
è¯»å–æ–‡ä»¶   è¯»å–csvæ–‡ä»¶ ratings = pd.read_csv(fpath)
  è¯»å–txtæ–‡ä»¶ pvuv = pd.read_csv()
  pvuv = pd.read_csv( fpath, sep=&#34;\t&#34;, header=None, names=[&#39;pdate&#39;, &#39;pv&#39;, &#39;uv&#39;] # æŒ‡å®šåˆ—å )   è¯»å–excelæ–‡ä»¶ pvuv = pd.read_excel(fpath)
  è¯»å– sqlæ–‡ä»¶ mysql_page = pd.read_sql(&quot;select * from crazyant_pvuv&quot;, con=conn)"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://shiluanzzz.github.io/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Pandaså­¦ä¹ ç¬”è®°",
      "item": "https://shiluanzzz.github.io/post/pandas%E6%93%8D%E4%BD%9C%E7%AC%94%E8%AE%B0/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Pandaså­¦ä¹ ç¬”è®°",
  "name": "Pandaså­¦ä¹ ç¬”è®°",
  "description": "Pandasç¬”è®° æœ€ä½³é˜…è¯»ä½“éªŒè¯·é˜…è¯»ç¬”è®°åŸæ–‡\nä»€ä¹ˆæ˜¯Pandasï¼Ÿ ä¸€ä¸ªå¼€æºçš„ Pythonç±»åº“ï¼šç”¨äºæ•°æ®åˆ†æã€æ•°æ®å¤„ç†ã€æ•°æ®å¯è§†åŒ–\n  é«˜æ€§èƒ½\n  å®¹æ˜“ä½¿ç”¨çš„æ•°æ®ç»“æ„\n  å®¹æ˜“ä½¿ç”¨çš„æ•°æ®åˆ†æå·¥å…·\n  å¾ˆæ–¹ä¾¿å’Œå…¶å®ƒç±»åº“ä¸€èµ·ä½¿ç”¨\n  numpyï¼šç”¨äºæ•°å­¦è®¡ç®—\n  scikit- learnï¼šç”¨äºæœºå™¨å­¦ä¹ \n  Pandas è¯»å–æ•°æ® Pandas éœ€è¦å…ˆè¯»å–è¡¨æ ¼ç±»å‹çš„æ•°æ®\nè¯»å–æ–‡ä»¶   è¯»å–csvæ–‡ä»¶ ratings = pd.read_csv(fpath)\n  è¯»å–txtæ–‡ä»¶ pvuv = pd.read_csv()\n  pvuv = pd.read_csv( fpath, sep=\u0026#34;\\t\u0026#34;, header=None, names=[\u0026#39;pdate\u0026#39;, \u0026#39;pv\u0026#39;, \u0026#39;uv\u0026#39;] # æŒ‡å®šåˆ—å )   è¯»å–excelæ–‡ä»¶ pvuv = pd.read_excel(fpath)\n  è¯»å– sqlæ–‡ä»¶ mysql_page = pd.read_sql(\u0026quot;select * from crazyant_pvuv\u0026quot;, con=conn)",
  "keywords": [
    "pandas", "Python"
  ],
  "articleBody": "Pandasç¬”è®° æœ€ä½³é˜…è¯»ä½“éªŒè¯·é˜…è¯»ç¬”è®°åŸæ–‡\nä»€ä¹ˆæ˜¯Pandasï¼Ÿ ä¸€ä¸ªå¼€æºçš„ Pythonç±»åº“ï¼šç”¨äºæ•°æ®åˆ†æã€æ•°æ®å¤„ç†ã€æ•°æ®å¯è§†åŒ–\n  é«˜æ€§èƒ½\n  å®¹æ˜“ä½¿ç”¨çš„æ•°æ®ç»“æ„\n  å®¹æ˜“ä½¿ç”¨çš„æ•°æ®åˆ†æå·¥å…·\n  å¾ˆæ–¹ä¾¿å’Œå…¶å®ƒç±»åº“ä¸€èµ·ä½¿ç”¨\n  numpyï¼šç”¨äºæ•°å­¦è®¡ç®—\n  scikit- learnï¼šç”¨äºæœºå™¨å­¦ä¹ \n  Pandas è¯»å–æ•°æ® Pandas éœ€è¦å…ˆè¯»å–è¡¨æ ¼ç±»å‹çš„æ•°æ®\nè¯»å–æ–‡ä»¶   è¯»å–csvæ–‡ä»¶ ratings = pd.read_csv(fpath)\n  è¯»å–txtæ–‡ä»¶ pvuv = pd.read_csv()\n  pvuv = pd.read_csv( fpath, sep=\"\\t\", header=None, names=['pdate', 'pv', 'uv'] # æŒ‡å®šåˆ—å )   è¯»å–excelæ–‡ä»¶ pvuv = pd.read_excel(fpath)\n  è¯»å– sqlæ–‡ä»¶ mysql_page = pd.read_sql(\"select * from crazyant_pvuv\", con=conn)\n  import pymysql conn = pymysql.connect( å‚æ•°çœç•¥ ) #åˆ›å»ºé“¾æ¥ mysql_page = pd.read_sql(\"select * from crazyant_pvuv\", con=conn) æŸ¥çœ‹æ•°æ®  æŸ¥çœ‹å‰å‡ è¡Œæ•°æ® ratings.head()   æŸ¥çœ‹æ•°æ®çš„å½¢çŠ¶ï¼Œè¿”å›(è¡Œæ•°ã€åˆ—æ•°) ratings.shape   æŸ¥çœ‹åˆ—ååˆ—è¡¨ ratings.columns   æŸ¥çœ‹ç´¢å¼•åˆ— ratings.index   æŸ¥çœ‹æ¯åˆ—çš„æ•°æ®ç±»å‹ ratings.dtypes  Pandasæ•°æ®ç»“æ„ Series Seriesæ˜¯ä¸€ç§ç±»ä¼¼äºä¸€ç»´æ•°ç»„çš„å¯¹è±¡ï¼Œå®ƒç”±ä¸€ç»„æ•°æ®ï¼ˆä¸åŒæ•°æ®ç±»å‹ï¼‰ä»¥åŠä¸€ç»„ä¸ä¹‹ç›¸å…³çš„æ•°æ®æ ‡ç­¾ï¼ˆå³ç´¢å¼•ï¼‰ç»„æˆã€‚\nåˆ›å»ºé»˜è®¤Series  åˆ›å»º s1 = pd.Series([1,'a',5.2,7])  â€‚åˆ›å»ºçš„æ•°æ®æ²¡æœ‰ä¼ å…¥ç´¢å¼•ï¼Œåˆ™ä¸ºé»˜è®¤ç´¢å¼•0,1,2,3\n è·å–æ•°æ® s1.values  # output: array([1, 'a', 5.2, 7], dtype=object) åˆ›å»ºå…·æœ‰æ ‡ç­¾çš„Series   åˆ›å»ºå¸¦ç´¢å¼•çš„Series\n  s2.index\n  #output Index(['d', 'b', 'a', 'c'], dtype='object') ä½¿ç”¨å­—å…¸åˆ›å»ºSeries å°†å­—å…¸ä¼ å…¥å³å¯\nsdata={'Ohio':35000,'Texas':72000,'Oregon':16000,'Utah':5000} s3=pd.Series(sdata) s3 # output  Ohio 35000 Texas 72000 Oregon 16000 Utah 5000 dtype: int64 é€šè¿‡ä¾¿ç­¾ç´¢å¼•æ•°æ® DataFrame DataFrameæ˜¯ä¸€ä¸ªè¡¨æ ¼å‹çš„æ•°æ®ç»“æ„\n  æ¯åˆ—å¯ä»¥æ˜¯ä¸åŒçš„å€¼ç±»å‹ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ç­‰ï¼‰\n  æ—¢æœ‰è¡Œç´¢å¼•index,ä¹Ÿæœ‰åˆ—ç´¢å¼•columns\n  å¯ä»¥è¢«çœ‹åšç”±Seriesç»„æˆçš„å­—å…¸\n  åˆ›å»ºdataframeæœ€å¸¸ç”¨çš„æ–¹æ³•ï¼Œä½¿ç”¨pd.read_XXXè¯»å–çº¯æ–‡æœ¬æ–‡ä»¶ã€excelã€mysqlæ•°æ®åº“\nä½¿ç”¨å­—å…¸åˆ›å»ºdataframe data={ 'state':['Ohio','Ohio','Ohio','Nevada','Nevada'], 'year':[2000,2001,2002,2001,2002], 'pop':[1.5,1.7,3.6,2.4,2.9] } df = pd.DataFrame(data) ä»DataFrameä¸­æŸ¥è¯¢æ•°æ®   å¦‚æœåªæŸ¥è¯¢ä¸€è¡Œã€ä¸€åˆ—ï¼Œè¿”å›çš„æ˜¯pd.Series\n  å¦‚æœæŸ¥è¯¢å¤šè¡Œã€å¤šåˆ—ï¼Œè¿”å›çš„æ˜¯pd.DataFrame\n  æŸ¥è¯¢ä¸€åˆ—ï¼Œç»“æœæ˜¯ä¸€ä¸ªpd.Series df['year'] # outout 0 2000 1 2001 2 2002 3 2001 4 2002 Name: year, dtype: int64 type(df['year'])# outputpandas.core.series.Series â€‚\u0026ensp\n3.2 æŸ¥è¯¢å¤šåˆ—ï¼Œç»“æœæ˜¯ä¸€ä¸ªpd.DataFrame df[['year', 'pop']] type(df.loc[1:3]) #output pandas.core.frame.DataFrame Pandas æŸ¥è¯¢æ•°æ® åé¢çš„æ•°æ®æŸ¥è¯¢ç¤ºä¾‹ä¸ºä¸€ä¸ªå¤©æ°”æ•°æ®ï¼Œå…¶ä¸­å°†æ—¥æœŸä½œä¸ºç´¢å¼• df.set_index('ymd', inplace=True)\nä½¿ç”¨å•ä¸ªlabelå€¼æŸ¥è¯¢æ•° # å¾—åˆ°å•ä¸ªå€¼df.loc['2018-01-03', 'bWendu']#output2 # å¾—åˆ°ä¸€ä¸ªSeriesdf.loc['2018-01-03', ['bWendu', 'yWendu']]#outputbWendu 2yWendu -5Name: 2018-01-03, dtype: object å› ä¸ºæŸ¥è¯¢çš„æ˜¯å•ä¸ªæ•°æ®ï¼Œæ‰€ä»¥è¿”å›çš„æ˜¯seriesã€‚ç¬¬äºŒä¸ªå­—æ®µæŒ‡å®šéœ€è¦è¿”å›çš„å­—æ®µï¼Œè‹¥ä¸æŒ‡å®šï¼Œä½¿ç”¨ï¼šä»£æ›¿ï¼Œåˆ™è¿”å›æ‰€æœ‰å­—æ®µã€‚\nä½¿ç”¨å€¼åˆ—è¡¨æ‰¹é‡æŸ¥è¯¢ # å¾—åˆ°Seriesdf.loc[['2018-01-03','2018-01-04','2018-01-05'], 'bWendu']#outputymd2018-01-03 22018-01-04 02018-01-05 3Name: bWendu, dtype: int32 ä½¿ç”¨æ•°å€¼åŒºé—´è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ # è¡ŒindexæŒ‰åŒºé—´ï¼Œå‰é¢è®¾ç½®äº†æ—¥æœŸä½œä¸ºç´¢å¼•ã€‚df.loc['2018-01-03':'2018-01-05', :] # è¡Œå’Œåˆ—éƒ½æŒ‰åŒºé—´æŸ¥è¯¢df.loc['2018-01-03':'2018-01-05', 'bWendu':'fengxiang'] ä½¿ç”¨æ¡ä»¶è¡¨è¾¾å¼æŸ¥è¯¢   æœ€ä½æ¸©åº¦ä½äº-10åº¦çš„åˆ—è¡¨ df.loc[df[\"yWendu\"]  ä½¿ç”¨ç»„åˆæ¡ä»¶æŸ¥è¯¢æœ€é«˜æ¸©åº¦å°äº30åº¦ï¼Œå¹¶ä¸”æœ€ä½æ¸©åº¦å¤§äº15åº¦ï¼Œå¹¶ä¸”æ˜¯æ™´å¤©ï¼Œå¹¶ä¸”å¤©æ°”ä¸ºä¼˜çš„æ•°æ®\n  df.loc[(df[\"bWendu\"]30) \u0026 (df[\"yWendu\"]=15) \u0026 (df[\"tianqi\"]=='æ™´') \u0026 (df[\"aqiLevel\"]==1), :]  ä½¿ç”¨å‡½æ•°æŸ¥è¯¢  â€‚- ç›´æ¥å†™lambdaè¡¨è¾¾å¼ df.loc[lambda df : (df[\"bWendu\"]=15), :]\nâ€‚- ç¼–å†™å‡½æ•°æŸ¥è¯¢\n# ç¼–å†™è‡ªå·±çš„å‡½æ•°ï¼ŒæŸ¥è¯¢9æœˆä»½ï¼Œç©ºæ°”è´¨é‡å¥½çš„æ•°æ®def query_my_data(df): return df.index.str.startswith(\"2018-09\") \u0026 (df[\"aqiLevel\"]==1) df.loc[query_my_data, :] æŸ¥è¯¢ç©ºå€¼\u0026\u0026åˆ é™¤å«æœ‰ç©ºå€¼çš„åˆ— match_data=match_data[match_data['home_player_1'].notnull()] Pandas æ–°å¢æ•°æ®åˆ—   ç›´æ¥èµ‹å€¼\n  df.applyæ–¹æ³•\n  df.assignæ–¹æ³•\n  æŒ‰æ¡ä»¶é€‰æ‹©åˆ†ç»„åˆ†åˆ«èµ‹å€¼f\n  ç›´æ¥èµ‹å€¼ å­—ç¬¦ä¸²æ›¿æ¢\n# æ›¿æ¢æ‰æ¸©åº¦çš„åç¼€â„ƒdf.loc[:, \"bWendu\"] = df[\"bWendu\"].str.replace(\"â„ƒ\", \"\").astype('int32')df.loc[:, \"yWendu\"] = df[\"yWendu\"].str.replace(\"â„ƒ\", \"\").astype('int32') æ•°æ®åŠ å‡\n# æ³¨æ„ï¼Œdf[\"bWendu\"]å…¶å®æ˜¯ä¸€ä¸ªSeriesï¼Œåé¢çš„å‡æ³•è¿”å›çš„æ˜¯Seriesdf.loc[:, \"wencha\"] = df[\"bWendu\"] - df[\"yWendu\"] df.apply() DataFrame.apply(func, axis=0, broadcast=False, raw=False, reduce=None, args=(), **kwds)\nå‡½æ•°éœ€è¦è‡ªå·±å®ç°ï¼Œå‡½æ•°çš„ä¼ å…¥å‚æ•°æ ¹æ®axisæ¥å®šï¼Œæ¯”å¦‚axis = 1ï¼Œå°±ä¼šæŠŠä¸€è¡Œæ•°æ®ä½œä¸ºSeriesçš„æ•°æ®ç»“æ„ä¼ å…¥ç»™è‡ªå·±å®ç°çš„å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°ä¸­å®ç°å¯¹Seriesä¸åŒå±æ€§ä¹‹é—´çš„è®¡ç®—ï¼Œè¿”å›ä¸€ä¸ªç»“æœï¼Œåˆ™applyå‡½æ•°ä¼šè‡ªåŠ¨éå†æ¯ä¸€è¡ŒDataFrameçš„æ•°æ®ï¼Œæœ€åå°†æ‰€æœ‰ç»“æœç»„åˆæˆä¸€ä¸ªSeriesæ•°æ®ç»“æ„å¹¶è¿”å›ã€‚\ndef get_wendu_type(x): if x[\"bWendu\"]  33: return 'é«˜æ¸©' if x[\"yWendu\"]  -10: return 'ä½æ¸©' return 'å¸¸æ¸©'# æ³¨æ„éœ€è¦è®¾ç½®axis==1ï¼Œè¿™æ˜¯seriesçš„indexæ˜¯columnsdf.loc[:, \"wendu_type\"] = df.apply(get_wendu_type, axis=1) df.assign() # å¯ä»¥åŒæ—¶æ·»åŠ å¤šä¸ªæ–°çš„åˆ—df.assign( yWendu_huashi = lambda x : x[\"yWendu\"] * 9 / 5 + 32, # æ‘„æ°åº¦è½¬åæ°åº¦ bWendu_huashi = lambda x : x[\"bWendu\"] * 9 / 5 + 32) æŒ‰æ¡ä»¶é€‰æ‹©åˆ†ç»„åˆ†åˆ«èµ‹å€¼ æŒ‰æ¡ä»¶å…ˆé€‰æ‹©æ•°æ®ï¼Œç„¶åå¯¹è¿™éƒ¨åˆ†æ•°æ®èµ‹å€¼æ–°åˆ—\nå®ä¾‹ï¼šé«˜ä½æ¸©å·®å¤§äº10åº¦ï¼Œåˆ™è®¤ä¸ºæ¸©å·®å¤§\n# å…ˆåˆ›å»ºç©ºåˆ—ï¼ˆè¿™æ˜¯ç¬¬ä¸€ç§åˆ›å»ºæ–°åˆ—çš„æ–¹æ³•ï¼‰df['wencha_type'] = ''df.loc[df[\"bWendu\"]-df[\"yWendu\"]10, \"wencha_type\"] = \"æ¸©å·®å¤§\"df.loc[df[\"bWendu\"]-df[\"yWendu\"]Pandas æ•°æ®ç»Ÿè®¡å‡½æ•°   æ±‡æ€»ç±»ç»Ÿè®¡\n  å”¯ä¸€å»é‡å’ŒæŒ‰å€¼è®¡æ•°\n  ç›¸å…³ç³»æ•°å’Œåæ–¹å·®\n  æ±‡æ€»ç»Ÿè®¡ç±»   ç»Ÿè®¡æ‰€æœ‰ç»“æœ df.describe()\n  å•ä¸ªæ•°æ®çš„å¹³å‡å€¼df[\"bWendu\"].mean()\n  å•ä¸ªæ•°æ®çš„æœ€å¤§å€¼ï¼Œæœ€å°å€¼ df[\"bWendu\"].max()  df[\"bWendu\"].min()\n  å”¯ä¸€å»é‡ ä¸€èˆ¬ç”¨äºæšä¸¾ï¼Œåˆ†ç±»åˆ—\ndf[\"fengxiang\"].unique()#outputarray(['ä¸œåŒ—é£', 'åŒ—é£', 'è¥¿åŒ—é£', 'è¥¿å—é£', 'å—é£', 'ä¸œå—é£', 'ä¸œé£', 'è¥¿é£'], dtype=object)df[\"fengli\"].unique()#outputarray(['1-2çº§', '4-5çº§', '3-4çº§', '2çº§', '1çº§', '3çº§'], dtype=object) æŒ‰å€¼è®¡æ•° df[\"fengxiang\"].value_counts()\nç›¸å…³ç³»æ•°å’Œåæ–¹å·® ç”¨é€”ï¼š\n  ä¸¤åªè‚¡ç¥¨ï¼Œæ˜¯ä¸æ˜¯åŒæ¶¨åŒè·Œï¼Ÿç¨‹åº¦å¤šå¤§ï¼Ÿæ­£ç›¸å…³è¿˜æ˜¯è´Ÿç›¸å…³ï¼Ÿ\n  äº§å“é”€é‡çš„æ³¢åŠ¨ï¼Œè·Ÿå“ªäº›å› ç´ æ­£ç›¸å…³ã€è´Ÿç›¸å…³ï¼Œç¨‹åº¦æœ‰å¤šå¤§ï¼Ÿ\n  æ¥è‡ªçŸ¥ä¹ï¼Œå¯¹äºä¸¤ä¸ªå˜é‡Xã€Yï¼š\n  åæ–¹å·®ï¼šè¡¡é‡åŒå‘åå‘ç¨‹åº¦ ï¼Œå¦‚æœåæ–¹å·®ä¸ºæ­£ï¼Œè¯´æ˜Xï¼ŒYåŒå‘å˜åŒ–ï¼Œåæ–¹å·®è¶Šå¤§è¯´æ˜åŒå‘ç¨‹åº¦è¶Šé«˜ï¼›å¦‚æœåæ–¹å·®ä¸ºè´Ÿï¼Œè¯´æ˜Xï¼ŒYåå‘è¿åŠ¨ï¼Œåæ–¹å·®è¶Šå°è¯´æ˜åå‘ç¨‹åº¦è¶Šé«˜ã€‚\n  ç›¸å…³ç³»æ•°ï¼šè¡¡é‡ç›¸ä¼¼åº¦ç¨‹åº¦ ï¼Œå½“ä»–ä»¬çš„ç›¸å…³ç³»æ•°ä¸º1æ—¶ï¼Œè¯´æ˜ä¸¤ä¸ªå˜é‡å˜åŒ–æ—¶çš„æ­£å‘ç›¸ä¼¼åº¦æœ€å¤§ï¼Œå½“ç›¸å…³ç³»æ•°ä¸ºï¼1æ—¶ï¼Œè¯´æ˜ä¸¤ä¸ªå˜é‡å˜åŒ–çš„åå‘ç›¸ä¼¼åº¦æœ€å¤§\n  ç¼–ç \n åæ–¹å·®çŸ©é˜µï¼š df.cov()   ç›¸å…³ç³»æ•°çŸ©é˜µ df.corr()    å•ç‹¬æŸ¥çœ‹ä¸¤ä¸ªæŒ‡æ ‡çš„ç›¸å…³ç³»æ•° df[\"aqi\"].corr(df[\"bWendu\"])\n  ç©ºæ°”è´¨é‡å’Œæ¸©å·®çš„ç›¸å…³ç³»æ•° df[\"aqi\"].corr(df[\"bWendu\"]-df[\"yWendu\"])\n  ",
  "wordCount" : "388",
  "inLanguage": "en",
  "datePublished": "2020-07-30T00:00:00Z",
  "dateModified": "2020-07-30T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://shiluanzzz.github.io/post/pandas%E6%93%8D%E4%BD%9C%E7%AC%94%E8%AE%B0/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "é£å¹ä¸åœ",
    "logo": {
      "@type": "ImageObject",
      "url": "https://shiluanzzz.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://shiluanzzz.github.io/" accesskey="h" title="é£å¹ä¸åœ (Alt + H)">é£å¹ä¸åœ</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://shiluanzzz.github.io/tags/" title="ğŸ·ï¸æ ‡ç­¾">
                    <span>ğŸ·ï¸æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://shiluanzzz.github.io/search/" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://shiluanzzz.github.io/archives/" title="ğŸ“šå½’æ¡£">
                    <span>ğŸ“šå½’æ¡£</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Pandaså­¦ä¹ ç¬”è®°
    </h1>
    <div class="post-meta"><span title='2020-07-30 00:00:00 +0000 UTC'>2020-07-30</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#pandas%e7%ac%94%e8%ae%b0" aria-label="Pandasç¬”è®°">Pandasç¬”è®°</a></li>
                <li>
                    <a href="#%e4%bb%80%e4%b9%88%e6%98%afpandas" aria-label="ä»€ä¹ˆæ˜¯Pandasï¼Ÿ">ä»€ä¹ˆæ˜¯Pandasï¼Ÿ</a></li>
                <li>
                    <a href="#pandas-%e8%af%bb%e5%8f%96%e6%95%b0%e6%8d%ae" aria-label="Pandas è¯»å–æ•°æ®">Pandas è¯»å–æ•°æ®</a><ul>
                        
                <li>
                    <a href="#%e8%af%bb%e5%8f%96%e6%96%87%e4%bb%b6" aria-label="è¯»å–æ–‡ä»¶">è¯»å–æ–‡ä»¶</a></li>
                <li>
                    <a href="#%e6%9f%a5%e7%9c%8b%e6%95%b0%e6%8d%ae" aria-label="æŸ¥çœ‹æ•°æ®">æŸ¥çœ‹æ•°æ®</a></li></ul>
                </li>
                <li>
                    <a href="#pandas%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84" aria-label="Pandasæ•°æ®ç»“æ„">Pandasæ•°æ®ç»“æ„</a><ul>
                        
                <li>
                    <a href="#series" aria-label="Series">Series</a><ul>
                        
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba%e9%bb%98%e8%ae%a4series" aria-label="åˆ›å»ºé»˜è®¤Series"><strong>åˆ›å»ºé»˜è®¤Series</strong></a></li>
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba%e5%85%b7%e6%9c%89%e6%a0%87%e7%ad%be%e7%9a%84series" aria-label="åˆ›å»ºå…·æœ‰æ ‡ç­¾çš„Series"><strong>åˆ›å»ºå…·æœ‰æ ‡ç­¾çš„Series</strong></a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%ad%97%e5%85%b8%e5%88%9b%e5%bb%baseries" aria-label="ä½¿ç”¨å­—å…¸åˆ›å»ºSeries"><strong>ä½¿ç”¨å­—å…¸åˆ›å»ºSeries</strong></a></li>
                <li>
                    <a href="#%e9%80%9a%e8%bf%87%e4%be%bf%e7%ad%be%e7%b4%a2%e5%bc%95%e6%95%b0%e6%8d%ae" aria-label="é€šè¿‡ä¾¿ç­¾ç´¢å¼•æ•°æ®">é€šè¿‡ä¾¿ç­¾ç´¢å¼•æ•°æ®</a></li></ul>
                </li>
                <li>
                    <a href="#dataframe" aria-label="DataFrame">DataFrame</a><ul>
                        
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%ad%97%e5%85%b8%e5%88%9b%e5%bb%badataframe" aria-label="ä½¿ç”¨å­—å…¸åˆ›å»ºdataframe">ä½¿ç”¨å­—å…¸åˆ›å»ºdataframe</a></li>
                <li>
                    <a href="#%e4%bb%8edataframe%e4%b8%ad%e6%9f%a5%e8%af%a2%e6%95%b0%e6%8d%ae" aria-label="ä»DataFrameä¸­æŸ¥è¯¢æ•°æ®">ä»DataFrameä¸­æŸ¥è¯¢æ•°æ®</a><ul>
                        
                <li>
                    <a href="#%e6%9f%a5%e8%af%a2%e4%b8%80%e5%88%97%e7%bb%93%e6%9e%9c%e6%98%af%e4%b8%80%e4%b8%aapdseries" aria-label="æŸ¥è¯¢ä¸€åˆ—ï¼Œç»“æœæ˜¯ä¸€ä¸ªpd.Series">æŸ¥è¯¢ä¸€åˆ—ï¼Œç»“æœæ˜¯ä¸€ä¸ªpd.Series</a></li>
                <li>
                    <a href="#32-%e6%9f%a5%e8%af%a2%e5%a4%9a%e5%88%97%e7%bb%93%e6%9e%9c%e6%98%af%e4%b8%80%e4%b8%aapddataframe" aria-label="3.2 æŸ¥è¯¢å¤šåˆ—ï¼Œç»“æœæ˜¯ä¸€ä¸ªpd.DataFrame">3.2 æŸ¥è¯¢å¤šåˆ—ï¼Œç»“æœæ˜¯ä¸€ä¸ªpd.DataFrame</a></li></ul>
                </li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#pandas-%e6%9f%a5%e8%af%a2%e6%95%b0%e6%8d%ae" aria-label="Pandas æŸ¥è¯¢æ•°æ®">Pandas æŸ¥è¯¢æ•°æ®</a><ul>
                        
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%8d%95%e4%b8%aalabel%e5%80%bc%e6%9f%a5%e8%af%a2%e6%95%b0" aria-label="ä½¿ç”¨å•ä¸ªlabelå€¼æŸ¥è¯¢æ•°">ä½¿ç”¨å•ä¸ªlabelå€¼æŸ¥è¯¢æ•°</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%80%bc%e5%88%97%e8%a1%a8%e6%89%b9%e9%87%8f%e6%9f%a5%e8%af%a2" aria-label="ä½¿ç”¨å€¼åˆ—è¡¨æ‰¹é‡æŸ¥è¯¢">ä½¿ç”¨å€¼åˆ—è¡¨æ‰¹é‡æŸ¥è¯¢</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e6%95%b0%e5%80%bc%e5%8c%ba%e9%97%b4%e8%bf%9b%e8%a1%8c%e8%8c%83%e5%9b%b4%e6%9f%a5%e8%af%a2" aria-label="ä½¿ç”¨æ•°å€¼åŒºé—´è¿›è¡ŒèŒƒå›´æŸ¥è¯¢">ä½¿ç”¨æ•°å€¼åŒºé—´è¿›è¡ŒèŒƒå›´æŸ¥è¯¢</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e6%9d%a1%e4%bb%b6%e8%a1%a8%e8%be%be%e5%bc%8f%e6%9f%a5%e8%af%a2" aria-label="ä½¿ç”¨æ¡ä»¶è¡¨è¾¾å¼æŸ¥è¯¢">ä½¿ç”¨æ¡ä»¶è¡¨è¾¾å¼æŸ¥è¯¢</a></li>
                <li>
                    <a href="#%e6%9f%a5%e8%af%a2%e7%a9%ba%e5%80%bc%e5%88%a0%e9%99%a4%e5%90%ab%e6%9c%89%e7%a9%ba%e5%80%bc%e7%9a%84%e5%88%97" aria-label="æŸ¥è¯¢ç©ºå€¼&amp;amp;&amp;amp;åˆ é™¤å«æœ‰ç©ºå€¼çš„åˆ—">æŸ¥è¯¢ç©ºå€¼&amp;&amp;åˆ é™¤å«æœ‰ç©ºå€¼çš„åˆ—</a></li></ul>
                </li>
                <li>
                    <a href="#pandas-%e6%96%b0%e5%a2%9e%e6%95%b0%e6%8d%ae%e5%88%97" aria-label="Pandas æ–°å¢æ•°æ®åˆ—">Pandas æ–°å¢æ•°æ®åˆ—</a><ul>
                        
                <li>
                    <a href="#%e7%9b%b4%e6%8e%a5%e8%b5%8b%e5%80%bc" aria-label="ç›´æ¥èµ‹å€¼">ç›´æ¥èµ‹å€¼</a></li>
                <li>
                    <a href="#dfapply" aria-label="df.apply()">df.apply()</a></li>
                <li>
                    <a href="#dfassign" aria-label="df.assign()">df.assign()</a></li>
                <li>
                    <a href="#%e6%8c%89%e6%9d%a1%e4%bb%b6%e9%80%89%e6%8b%a9%e5%88%86%e7%bb%84%e5%88%86%e5%88%ab%e8%b5%8b%e5%80%bc" aria-label="æŒ‰æ¡ä»¶é€‰æ‹©åˆ†ç»„åˆ†åˆ«èµ‹å€¼">æŒ‰æ¡ä»¶é€‰æ‹©åˆ†ç»„åˆ†åˆ«èµ‹å€¼</a></li></ul>
                </li>
                <li>
                    <a href="#pandas-%e6%95%b0%e6%8d%ae%e7%bb%9f%e8%ae%a1%e5%87%bd%e6%95%b0" aria-label="Pandas æ•°æ®ç»Ÿè®¡å‡½æ•°">Pandas æ•°æ®ç»Ÿè®¡å‡½æ•°</a><ul>
                        
                <li>
                    <a href="#%e6%b1%87%e6%80%bb%e7%bb%9f%e8%ae%a1%e7%b1%bb" aria-label="æ±‡æ€»ç»Ÿè®¡ç±»">æ±‡æ€»ç»Ÿè®¡ç±»</a></li>
                <li>
                    <a href="#%e5%94%af%e4%b8%80%e5%8e%bb%e9%87%8d" aria-label="å”¯ä¸€å»é‡">å”¯ä¸€å»é‡</a></li>
                <li>
                    <a href="#%e6%8c%89%e5%80%bc%e8%ae%a1%e6%95%b0" aria-label="æŒ‰å€¼è®¡æ•°">æŒ‰å€¼è®¡æ•°</a></li>
                <li>
                    <a href="#%e7%9b%b8%e5%85%b3%e7%b3%bb%e6%95%b0%e5%92%8c%e5%8d%8f%e6%96%b9%e5%b7%ae" aria-label="ç›¸å…³ç³»æ•°å’Œåæ–¹å·®">ç›¸å…³ç³»æ•°å’Œåæ–¹å·®</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="pandasç¬”è®°">Pandasç¬”è®°<a hidden class="anchor" aria-hidden="true" href="#pandasç¬”è®°">#</a></h1>
<p>æœ€ä½³é˜…è¯»ä½“éªŒè¯·é˜…è¯»<a href="https://www.wolai.com/enjoy/9UcxiCaCPxToz8CJLR2uCP?theme=light">ç¬”è®°åŸæ–‡</a></p>
<h1 id="ä»€ä¹ˆæ˜¯pandas">ä»€ä¹ˆæ˜¯Pandasï¼Ÿ<a hidden class="anchor" aria-hidden="true" href="#ä»€ä¹ˆæ˜¯pandas">#</a></h1>
<p>ä¸€ä¸ªå¼€æºçš„ Pythonç±»åº“ï¼šç”¨äºæ•°æ®åˆ†æã€æ•°æ®å¤„ç†ã€æ•°æ®å¯è§†åŒ–</p>
<ul>
<li>
<p>é«˜æ€§èƒ½</p>
</li>
<li>
<p>å®¹æ˜“ä½¿ç”¨çš„æ•°æ®ç»“æ„</p>
</li>
<li>
<p>å®¹æ˜“ä½¿ç”¨çš„æ•°æ®åˆ†æå·¥å…·</p>
</li>
</ul>
<p>å¾ˆæ–¹ä¾¿å’Œå…¶å®ƒç±»åº“ä¸€èµ·ä½¿ç”¨</p>
<ul>
<li>
<p>numpyï¼šç”¨äºæ•°å­¦è®¡ç®—</p>
</li>
<li>
<p>scikit- learnï¼šç”¨äºæœºå™¨å­¦ä¹ </p>
</li>
</ul>
<h1 id="pandas-è¯»å–æ•°æ®">Pandas è¯»å–æ•°æ®<a hidden class="anchor" aria-hidden="true" href="#pandas-è¯»å–æ•°æ®">#</a></h1>
<p>Pandas éœ€è¦å…ˆè¯»å–è¡¨æ ¼ç±»å‹çš„æ•°æ®</p>
<p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054660.png" alt=""  />
</p>
<h2 id="è¯»å–æ–‡ä»¶">è¯»å–æ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#è¯»å–æ–‡ä»¶">#</a></h2>
<ul>
<li>
<p>è¯»å–csvæ–‡ä»¶ <code>ratings = pd.read_csv(fpath)</code></p>
</li>
<li>
<p>è¯»å–txtæ–‡ä»¶ <code>pvuv = pd.read_csv()</code></p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">pvuv <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(
    fpath,
    sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">&#34;</span>,
    header<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,
    names<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;pdate&#39;</span>, <span style="color:#e6db74">&#39;pv&#39;</span>, <span style="color:#e6db74">&#39;uv&#39;</span>] <span style="color:#75715e"># æŒ‡å®šåˆ—å</span>
)
</code></pre></div><p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054662.png" alt="æ•°æ®é—´éš”ä¸ºtab"  />
</p>
<ul>
<li>
<p>è¯»å–excelæ–‡ä»¶ <code>pvuv = pd.read_excel(fpath)</code></p>
</li>
<li>
<p>è¯»å– sqlæ–‡ä»¶ <code>mysql_page = pd.read_sql(&quot;select * from crazyant_pvuv&quot;, con=conn)</code></p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#f92672">import</span> pymysql
conn <span style="color:#f92672">=</span> pymysql<span style="color:#f92672">.</span>connect( å‚æ•°çœç•¥ ) <span style="color:#75715e">#åˆ›å»ºé“¾æ¥</span>
mysql_page <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_sql(<span style="color:#e6db74">&#34;select * from crazyant_pvuv&#34;</span>, con<span style="color:#f92672">=</span>conn)

</code></pre></div><p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054663.png" alt=""  />
</p>
<h2 id="æŸ¥çœ‹æ•°æ®">æŸ¥çœ‹æ•°æ®<a hidden class="anchor" aria-hidden="true" href="#æŸ¥çœ‹æ•°æ®">#</a></h2>
<ul>
<li>æŸ¥çœ‹å‰å‡ è¡Œæ•°æ® <code>ratings.head()</code></li>
</ul>
<p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054664.png" alt=""  />
</p>
<ul>
<li>æŸ¥çœ‹æ•°æ®çš„å½¢çŠ¶ï¼Œè¿”å›(è¡Œæ•°ã€åˆ—æ•°) <code>ratings.shape</code></li>
</ul>
<p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054665.png" alt=""  />
</p>
<ul>
<li>æŸ¥çœ‹åˆ—ååˆ—è¡¨ <code>ratings.columns</code></li>
</ul>
<p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054666.png" alt=""  />
</p>
<ul>
<li>æŸ¥çœ‹ç´¢å¼•åˆ— <code>ratings.index</code></li>
</ul>
<p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054667.png" alt=""  />
</p>
<ul>
<li>æŸ¥çœ‹æ¯åˆ—çš„æ•°æ®ç±»å‹ <code>ratings.dtypes</code></li>
</ul>
<p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054668.png" alt=""  />
</p>
<h1 id="pandasæ•°æ®ç»“æ„">Pandasæ•°æ®ç»“æ„<a hidden class="anchor" aria-hidden="true" href="#pandasæ•°æ®ç»“æ„">#</a></h1>
<h2 id="series">Series<a hidden class="anchor" aria-hidden="true" href="#series">#</a></h2>
<p>Seriesæ˜¯ä¸€ç§ç±»ä¼¼äºä¸€ç»´æ•°ç»„çš„å¯¹è±¡ï¼Œå®ƒç”±ä¸€ç»„æ•°æ®ï¼ˆä¸åŒæ•°æ®ç±»å‹ï¼‰ä»¥åŠä¸€ç»„ä¸ä¹‹ç›¸å…³çš„æ•°æ®æ ‡ç­¾ï¼ˆå³ç´¢å¼•ï¼‰ç»„æˆã€‚</p>
<h3 id="åˆ›å»ºé»˜è®¤series"><strong>åˆ›å»ºé»˜è®¤Series</strong><a hidden class="anchor" aria-hidden="true" href="#åˆ›å»ºé»˜è®¤series">#</a></h3>
<ul>
<li>åˆ›å»º <code>s1 = pd.Series([1,'a',5.2,7])</code></li>
</ul>
<p>â€‚â€‚â€‚â€‚åˆ›å»ºçš„æ•°æ®æ²¡æœ‰ä¼ å…¥ç´¢å¼•ï¼Œåˆ™ä¸ºé»˜è®¤ç´¢å¼•0,1,2,3</p>
<ul>
<li><code>è·å–æ•°æ® s1.values</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># output: array([1, &#39;a&#39;, 5.2, 7], dtype=object)</span>
</code></pre></div><p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054669.png" alt=""  />
</p>
<h3 id="åˆ›å»ºå…·æœ‰æ ‡ç­¾çš„series"><strong>åˆ›å»ºå…·æœ‰æ ‡ç­¾çš„Series</strong><a hidden class="anchor" aria-hidden="true" href="#åˆ›å»ºå…·æœ‰æ ‡ç­¾çš„series">#</a></h3>
<ul>
<li>
<p>åˆ›å»ºå¸¦ç´¢å¼•çš„<code>Series</code></p>
</li>
<li>
<p><code>s2.index</code></p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e">#output Index([&#39;d&#39;, &#39;b&#39;, &#39;a&#39;, &#39;c&#39;], dtype=&#39;object&#39;)</span>
</code></pre></div><p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054670.png" alt=""  />
</p>
<h3 id="ä½¿ç”¨å­—å…¸åˆ›å»ºseries"><strong>ä½¿ç”¨å­—å…¸åˆ›å»ºSeries</strong><a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨å­—å…¸åˆ›å»ºseries">#</a></h3>
<p>å°†å­—å…¸ä¼ å…¥å³å¯</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">sdata<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;Ohio&#39;</span>:<span style="color:#ae81ff">35000</span>,<span style="color:#e6db74">&#39;Texas&#39;</span>:<span style="color:#ae81ff">72000</span>,<span style="color:#e6db74">&#39;Oregon&#39;</span>:<span style="color:#ae81ff">16000</span>,<span style="color:#e6db74">&#39;Utah&#39;</span>:<span style="color:#ae81ff">5000</span>}
s3<span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>Series(sdata)

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">s3
<span style="color:#75715e"># output </span>
Ohio      <span style="color:#ae81ff">35000</span>
Texas     <span style="color:#ae81ff">72000</span>
Oregon    <span style="color:#ae81ff">16000</span>
Utah       <span style="color:#ae81ff">5000</span>
dtype: int64

</code></pre></div><h3 id="é€šè¿‡ä¾¿ç­¾ç´¢å¼•æ•°æ®">é€šè¿‡ä¾¿ç­¾ç´¢å¼•æ•°æ®<a hidden class="anchor" aria-hidden="true" href="#é€šè¿‡ä¾¿ç­¾ç´¢å¼•æ•°æ®">#</a></h3>
<p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054671.png" alt=""  />
</p>
<p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054672.png" alt=""  />
</p>
<h2 id="dataframe">DataFrame<a hidden class="anchor" aria-hidden="true" href="#dataframe">#</a></h2>
<p>DataFrameæ˜¯ä¸€ä¸ªè¡¨æ ¼å‹çš„æ•°æ®ç»“æ„</p>
<ul>
<li>
<p>æ¯åˆ—å¯ä»¥æ˜¯ä¸åŒçš„å€¼ç±»å‹ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ç­‰ï¼‰</p>
</li>
<li>
<p>æ—¢æœ‰è¡Œç´¢å¼•index,ä¹Ÿæœ‰åˆ—ç´¢å¼•columns</p>
</li>
<li>
<p>å¯ä»¥è¢«çœ‹åšç”±Seriesç»„æˆçš„å­—å…¸</p>
</li>
</ul>
<p>åˆ›å»ºdataframeæœ€å¸¸ç”¨çš„æ–¹æ³•ï¼Œä½¿ç”¨<code>pd.read_XXX</code>è¯»å–çº¯æ–‡æœ¬æ–‡ä»¶ã€excelã€mysqlæ•°æ®åº“</p>
<h3 id="ä½¿ç”¨å­—å…¸åˆ›å»ºdataframe">ä½¿ç”¨å­—å…¸åˆ›å»ºdataframe<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨å­—å…¸åˆ›å»ºdataframe">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">data<span style="color:#f92672">=</span>{
        <span style="color:#e6db74">&#39;state&#39;</span>:[<span style="color:#e6db74">&#39;Ohio&#39;</span>,<span style="color:#e6db74">&#39;Ohio&#39;</span>,<span style="color:#e6db74">&#39;Ohio&#39;</span>,<span style="color:#e6db74">&#39;Nevada&#39;</span>,<span style="color:#e6db74">&#39;Nevada&#39;</span>],
        <span style="color:#e6db74">&#39;year&#39;</span>:[<span style="color:#ae81ff">2000</span>,<span style="color:#ae81ff">2001</span>,<span style="color:#ae81ff">2002</span>,<span style="color:#ae81ff">2001</span>,<span style="color:#ae81ff">2002</span>],
        <span style="color:#e6db74">&#39;pop&#39;</span>:[<span style="color:#ae81ff">1.5</span>,<span style="color:#ae81ff">1.7</span>,<span style="color:#ae81ff">3.6</span>,<span style="color:#ae81ff">2.4</span>,<span style="color:#ae81ff">2.9</span>]
    }
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data)
</code></pre></div><p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054673.png" alt=""  />
</p>
<p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054674.png" alt=""  />
</p>
<p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054675.png" alt=""  />
</p>
<h3 id="ä»dataframeä¸­æŸ¥è¯¢æ•°æ®">ä»DataFrameä¸­æŸ¥è¯¢æ•°æ®<a hidden class="anchor" aria-hidden="true" href="#ä»dataframeä¸­æŸ¥è¯¢æ•°æ®">#</a></h3>
<ul>
<li>
<p>å¦‚æœåªæŸ¥è¯¢ä¸€è¡Œã€ä¸€åˆ—ï¼Œè¿”å›çš„æ˜¯pd.Series</p>
</li>
<li>
<p>å¦‚æœæŸ¥è¯¢å¤šè¡Œã€å¤šåˆ—ï¼Œè¿”å›çš„æ˜¯pd.DataFrame</p>
</li>
</ul>
<h4 id="æŸ¥è¯¢ä¸€åˆ—ç»“æœæ˜¯ä¸€ä¸ªpdseries">æŸ¥è¯¢ä¸€åˆ—ï¼Œç»“æœæ˜¯ä¸€ä¸ªpd.Series<a hidden class="anchor" aria-hidden="true" href="#æŸ¥è¯¢ä¸€åˆ—ç»“æœæ˜¯ä¸€ä¸ªpdseries">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">df[<span style="color:#e6db74">&#39;year&#39;</span>]
<span style="color:#75715e"># outout</span>
<span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">2000</span>
<span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">2001</span>
<span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">2002</span>
<span style="color:#ae81ff">3</span>    <span style="color:#ae81ff">2001</span>
<span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">2002</span>
Name: year, dtype: int64

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">type(df[<span style="color:#e6db74">&#39;year&#39;</span>])<span style="color:#75715e"># outputpandas.core.series.Series</span>
</code></pre></div><p>â€‚â€‚â€‚&amp;ensp</p>
<h4 id="32-æŸ¥è¯¢å¤šåˆ—ç»“æœæ˜¯ä¸€ä¸ªpddataframe">3.2 æŸ¥è¯¢å¤šåˆ—ï¼Œç»“æœæ˜¯ä¸€ä¸ªpd.DataFrame<a hidden class="anchor" aria-hidden="true" href="#32-æŸ¥è¯¢å¤šåˆ—ç»“æœæ˜¯ä¸€ä¸ªpddataframe">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">df[[<span style="color:#e6db74">&#39;year&#39;</span>, <span style="color:#e6db74">&#39;pop&#39;</span>]]
</code></pre></div><p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054676.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">type(df<span style="color:#f92672">.</span>loc[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>]) <span style="color:#75715e">#output pandas.core.frame.DataFrame</span>
</code></pre></div><h1 id="pandas-æŸ¥è¯¢æ•°æ®">Pandas æŸ¥è¯¢æ•°æ®<a hidden class="anchor" aria-hidden="true" href="#pandas-æŸ¥è¯¢æ•°æ®">#</a></h1>
<p>åé¢çš„æ•°æ®æŸ¥è¯¢ç¤ºä¾‹ä¸ºä¸€ä¸ªå¤©æ°”æ•°æ®ï¼Œå…¶ä¸­å°†æ—¥æœŸä½œä¸ºç´¢å¼• <code>df.set_index('ymd', inplace=True)</code></p>
<p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054677.png" alt=""  />
</p>
<h2 id="ä½¿ç”¨å•ä¸ªlabelå€¼æŸ¥è¯¢æ•°">ä½¿ç”¨å•ä¸ªlabelå€¼æŸ¥è¯¢æ•°<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨å•ä¸ªlabelå€¼æŸ¥è¯¢æ•°">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># å¾—åˆ°å•ä¸ªå€¼df.loc[&#39;2018-01-03&#39;, &#39;bWendu&#39;]#output2</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># å¾—åˆ°ä¸€ä¸ªSeriesdf.loc[&#39;2018-01-03&#39;, [&#39;bWendu&#39;, &#39;yWendu&#39;]]#outputbWendu     2yWendu    -5Name: 2018-01-03, dtype: object</span>
</code></pre></div><p>å› ä¸ºæŸ¥è¯¢çš„æ˜¯å•ä¸ªæ•°æ®ï¼Œæ‰€ä»¥è¿”å›çš„æ˜¯seriesã€‚ç¬¬äºŒä¸ªå­—æ®µæŒ‡å®šéœ€è¦è¿”å›çš„å­—æ®µï¼Œè‹¥ä¸æŒ‡å®šï¼Œä½¿ç”¨<code>ï¼š</code>ä»£æ›¿ï¼Œåˆ™è¿”å›æ‰€æœ‰å­—æ®µã€‚</p>
<h2 id="ä½¿ç”¨å€¼åˆ—è¡¨æ‰¹é‡æŸ¥è¯¢">ä½¿ç”¨å€¼åˆ—è¡¨æ‰¹é‡æŸ¥è¯¢<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨å€¼åˆ—è¡¨æ‰¹é‡æŸ¥è¯¢">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># å¾—åˆ°Seriesdf.loc[[&#39;2018-01-03&#39;,&#39;2018-01-04&#39;,&#39;2018-01-05&#39;], &#39;bWendu&#39;]#outputymd2018-01-03    22018-01-04    02018-01-05    3Name: bWendu, dtype: int32</span>
</code></pre></div><h2 id="ä½¿ç”¨æ•°å€¼åŒºé—´è¿›è¡ŒèŒƒå›´æŸ¥è¯¢">ä½¿ç”¨æ•°å€¼åŒºé—´è¿›è¡ŒèŒƒå›´æŸ¥è¯¢<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨æ•°å€¼åŒºé—´è¿›è¡ŒèŒƒå›´æŸ¥è¯¢">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># è¡ŒindexæŒ‰åŒºé—´ï¼Œå‰é¢è®¾ç½®äº†æ—¥æœŸä½œä¸ºç´¢å¼•ã€‚df.loc[&#39;2018-01-03&#39;:&#39;2018-01-05&#39;, :]</span>
</code></pre></div><p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054678.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># è¡Œå’Œåˆ—éƒ½æŒ‰åŒºé—´æŸ¥è¯¢df.loc[&#39;2018-01-03&#39;:&#39;2018-01-05&#39;, &#39;bWendu&#39;:&#39;fengxiang&#39;]</span>
</code></pre></div><p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054679.png" alt=""  />
</p>
<h2 id="ä½¿ç”¨æ¡ä»¶è¡¨è¾¾å¼æŸ¥è¯¢">ä½¿ç”¨æ¡ä»¶è¡¨è¾¾å¼æŸ¥è¯¢<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨æ¡ä»¶è¡¨è¾¾å¼æŸ¥è¯¢">#</a></h2>
<ul>
<li>
<p>æœ€ä½æ¸©åº¦ä½äº-10åº¦çš„åˆ—è¡¨ <code>df.loc[df[&quot;yWendu&quot;]&lt;-10, :]</code></p>
</li>
<li>
<p>ä½¿ç”¨ç»„åˆæ¡ä»¶æŸ¥è¯¢æœ€é«˜æ¸©åº¦å°äº30åº¦ï¼Œå¹¶ä¸”æœ€ä½æ¸©åº¦å¤§äº15åº¦ï¼Œå¹¶ä¸”æ˜¯æ™´å¤©ï¼Œå¹¶ä¸”å¤©æ°”ä¸ºä¼˜çš„æ•°æ®</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">df<span style="color:#f92672">.</span>loc[(df[<span style="color:#e6db74">&#34;bWendu&#34;</span>]<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">30</span>) <span style="color:#f92672">&amp;</span> (df[<span style="color:#e6db74">&#34;yWendu&#34;</span>]<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">15</span>) <span style="color:#f92672">&amp;</span> (df[<span style="color:#e6db74">&#34;tianqi&#34;</span>]<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;æ™´&#39;</span>) <span style="color:#f92672">&amp;</span> (df[<span style="color:#e6db74">&#34;aqiLevel&#34;</span>]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>), :]
</code></pre></div><ul>
<li>ä½¿ç”¨å‡½æ•°æŸ¥è¯¢</li>
</ul>
<p>â€‚â€‚â€‚â€‚- ç›´æ¥å†™lambdaè¡¨è¾¾å¼  <code>df.loc[lambda df : (df[&quot;bWendu&quot;]&lt;=30) &amp; (df[&quot;yWendu&quot;]&gt;=15), :]</code></p>
<p>â€‚â€‚â€‚â€‚- ç¼–å†™å‡½æ•°æŸ¥è¯¢</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># ç¼–å†™è‡ªå·±çš„å‡½æ•°ï¼ŒæŸ¥è¯¢9æœˆä»½ï¼Œç©ºæ°”è´¨é‡å¥½çš„æ•°æ®def query_my_data(df):    return df.index.str.startswith(&#34;2018-09&#34;) &amp; (df[&#34;aqiLevel&#34;]==1)    df.loc[query_my_data, :]</span>
</code></pre></div><h2 id="æŸ¥è¯¢ç©ºå€¼åˆ é™¤å«æœ‰ç©ºå€¼çš„åˆ—">æŸ¥è¯¢ç©ºå€¼&amp;&amp;åˆ é™¤å«æœ‰ç©ºå€¼çš„åˆ—<a hidden class="anchor" aria-hidden="true" href="#æŸ¥è¯¢ç©ºå€¼åˆ é™¤å«æœ‰ç©ºå€¼çš„åˆ—">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">match_data<span style="color:#f92672">=</span>match_data[match_data[<span style="color:#e6db74">&#39;home_player_1&#39;</span>]<span style="color:#f92672">.</span>notnull()]
</code></pre></div><h1 id="pandas-æ–°å¢æ•°æ®åˆ—">Pandas æ–°å¢æ•°æ®åˆ—<a hidden class="anchor" aria-hidden="true" href="#pandas-æ–°å¢æ•°æ®åˆ—">#</a></h1>
<ol>
<li>
<p>ç›´æ¥èµ‹å€¼</p>
</li>
<li>
<p>df.applyæ–¹æ³•</p>
</li>
<li>
<p>df.assignæ–¹æ³•</p>
</li>
<li>
<p>æŒ‰æ¡ä»¶é€‰æ‹©åˆ†ç»„åˆ†åˆ«èµ‹å€¼f</p>
</li>
</ol>
<h2 id="ç›´æ¥èµ‹å€¼">ç›´æ¥èµ‹å€¼<a hidden class="anchor" aria-hidden="true" href="#ç›´æ¥èµ‹å€¼">#</a></h2>
<p>å­—ç¬¦ä¸²æ›¿æ¢</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># æ›¿æ¢æ‰æ¸©åº¦çš„åç¼€â„ƒdf.loc[:, &#34;bWendu&#34;] = df[&#34;bWendu&#34;].str.replace(&#34;â„ƒ&#34;, &#34;&#34;).astype(&#39;int32&#39;)df.loc[:, &#34;yWendu&#34;] = df[&#34;yWendu&#34;].str.replace(&#34;â„ƒ&#34;, &#34;&#34;).astype(&#39;int32&#39;)</span>
</code></pre></div><p>æ•°æ®åŠ å‡</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># æ³¨æ„ï¼Œdf[&#34;bWendu&#34;]å…¶å®æ˜¯ä¸€ä¸ªSeriesï¼Œåé¢çš„å‡æ³•è¿”å›çš„æ˜¯Seriesdf.loc[:, &#34;wencha&#34;] = df[&#34;bWendu&#34;] - df[&#34;yWendu&#34;]</span>
</code></pre></div><h2 id="dfapply">df.apply()<a hidden class="anchor" aria-hidden="true" href="#dfapply">#</a></h2>
<p><code>DataFrame.apply(func, axis=0, broadcast=False, raw=False, reduce=None, args=(), **kwds)</code></p>
<p>å‡½æ•°éœ€è¦è‡ªå·±å®ç°ï¼Œå‡½æ•°çš„ä¼ å…¥å‚æ•°æ ¹æ®<code>axis</code>æ¥å®šï¼Œæ¯”å¦‚<code>axis = 1</code>ï¼Œå°±ä¼šæŠŠä¸€è¡Œæ•°æ®ä½œä¸º<code>Series</code>çš„æ•°æ®ç»“æ„ä¼ å…¥ç»™è‡ªå·±å®ç°çš„å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°ä¸­å®ç°å¯¹<code>Series</code>ä¸åŒå±æ€§ä¹‹é—´çš„è®¡ç®—ï¼Œè¿”å›ä¸€ä¸ªç»“æœï¼Œåˆ™<code>apply</code>å‡½æ•°ä¼šè‡ªåŠ¨éå†æ¯ä¸€è¡Œ<code>DataFrame</code>çš„æ•°æ®ï¼Œæœ€åå°†æ‰€æœ‰ç»“æœç»„åˆæˆä¸€ä¸ª<code>Series</code>æ•°æ®ç»“æ„å¹¶è¿”å›ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_wendu_type</span>(x):    <span style="color:#66d9ef">if</span> x[<span style="color:#e6db74">&#34;bWendu&#34;</span>] <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">33</span>:        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;é«˜æ¸©&#39;</span>    <span style="color:#66d9ef">if</span> x[<span style="color:#e6db74">&#34;yWendu&#34;</span>] <span style="color:#f92672">&lt;</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>:        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;ä½æ¸©&#39;</span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;å¸¸æ¸©&#39;</span><span style="color:#75715e"># æ³¨æ„éœ€è¦è®¾ç½®axis==1ï¼Œè¿™æ˜¯seriesçš„indexæ˜¯columnsdf.loc[:, &#34;wendu_type&#34;] = df.apply(get_wendu_type, axis=1)</span>
</code></pre></div><h2 id="dfassign">df.assign()<a hidden class="anchor" aria-hidden="true" href="#dfassign">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># å¯ä»¥åŒæ—¶æ·»åŠ å¤šä¸ªæ–°çš„åˆ—df.assign(    yWendu_huashi = lambda x : x[&#34;yWendu&#34;] * 9 / 5 + 32,    # æ‘„æ°åº¦è½¬åæ°åº¦    bWendu_huashi = lambda x : x[&#34;bWendu&#34;] * 9 / 5 + 32)</span>
</code></pre></div><h2 id="æŒ‰æ¡ä»¶é€‰æ‹©åˆ†ç»„åˆ†åˆ«èµ‹å€¼">æŒ‰æ¡ä»¶é€‰æ‹©åˆ†ç»„åˆ†åˆ«èµ‹å€¼<a hidden class="anchor" aria-hidden="true" href="#æŒ‰æ¡ä»¶é€‰æ‹©åˆ†ç»„åˆ†åˆ«èµ‹å€¼">#</a></h2>
<p>æŒ‰æ¡ä»¶å…ˆé€‰æ‹©æ•°æ®ï¼Œç„¶åå¯¹è¿™éƒ¨åˆ†æ•°æ®èµ‹å€¼æ–°åˆ—</p>
<p>å®ä¾‹ï¼šé«˜ä½æ¸©å·®å¤§äº10åº¦ï¼Œåˆ™è®¤ä¸ºæ¸©å·®å¤§</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># å…ˆåˆ›å»ºç©ºåˆ—ï¼ˆè¿™æ˜¯ç¬¬ä¸€ç§åˆ›å»ºæ–°åˆ—çš„æ–¹æ³•ï¼‰df[&#39;wencha_type&#39;] = &#39;&#39;df.loc[df[&#34;bWendu&#34;]-df[&#34;yWendu&#34;]&gt;10, &#34;wencha_type&#34;] = &#34;æ¸©å·®å¤§&#34;df.loc[df[&#34;bWendu&#34;]-df[&#34;yWendu&#34;]&lt;=10, &#34;wencha_type&#34;] = &#34;æ¸©å·®æ­£å¸¸&#34;</span>
</code></pre></div><h1 id="pandas-æ•°æ®ç»Ÿè®¡å‡½æ•°">Pandas æ•°æ®ç»Ÿè®¡å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#pandas-æ•°æ®ç»Ÿè®¡å‡½æ•°">#</a></h1>
<ol>
<li>
<p>æ±‡æ€»ç±»ç»Ÿè®¡</p>
</li>
<li>
<p>å”¯ä¸€å»é‡å’ŒæŒ‰å€¼è®¡æ•°</p>
</li>
<li>
<p>ç›¸å…³ç³»æ•°å’Œåæ–¹å·®</p>
</li>
</ol>
<h2 id="æ±‡æ€»ç»Ÿè®¡ç±»">æ±‡æ€»ç»Ÿè®¡ç±»<a hidden class="anchor" aria-hidden="true" href="#æ±‡æ€»ç»Ÿè®¡ç±»">#</a></h2>
<ul>
<li>
<p>ç»Ÿè®¡æ‰€æœ‰ç»“æœ <code>df.describe()</code></p>
</li>
<li>
<p>å•ä¸ªæ•°æ®çš„å¹³å‡å€¼<code>df[&quot;bWendu&quot;].mean()</code></p>
</li>
<li>
<p>å•ä¸ªæ•°æ®çš„æœ€å¤§å€¼ï¼Œæœ€å°å€¼  <code>df[&quot;bWendu&quot;].max() </code> <code>df[&quot;bWendu&quot;].min()</code></p>
</li>
</ul>
<h2 id="å”¯ä¸€å»é‡">å”¯ä¸€å»é‡<a hidden class="anchor" aria-hidden="true" href="#å”¯ä¸€å»é‡">#</a></h2>
<p>ä¸€èˆ¬ç”¨äºæšä¸¾ï¼Œåˆ†ç±»åˆ—</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">df[<span style="color:#e6db74">&#34;fengxiang&#34;</span>]<span style="color:#f92672">.</span>unique()<span style="color:#75715e">#outputarray([&#39;ä¸œåŒ—é£&#39;, &#39;åŒ—é£&#39;, &#39;è¥¿åŒ—é£&#39;, &#39;è¥¿å—é£&#39;, &#39;å—é£&#39;, &#39;ä¸œå—é£&#39;, &#39;ä¸œé£&#39;, &#39;è¥¿é£&#39;], dtype=object)df[&#34;fengli&#34;].unique()#outputarray([&#39;1-2çº§&#39;, &#39;4-5çº§&#39;, &#39;3-4çº§&#39;, &#39;2çº§&#39;, &#39;1çº§&#39;, &#39;3çº§&#39;], dtype=object)</span>
</code></pre></div><h2 id="æŒ‰å€¼è®¡æ•°">æŒ‰å€¼è®¡æ•°<a hidden class="anchor" aria-hidden="true" href="#æŒ‰å€¼è®¡æ•°">#</a></h2>
<p><code>df[&quot;fengxiang&quot;].value_counts()</code></p>
<h2 id="ç›¸å…³ç³»æ•°å’Œåæ–¹å·®">ç›¸å…³ç³»æ•°å’Œåæ–¹å·®<a hidden class="anchor" aria-hidden="true" href="#ç›¸å…³ç³»æ•°å’Œåæ–¹å·®">#</a></h2>
<p>ç”¨é€”ï¼š</p>
<ol>
<li>
<p>ä¸¤åªè‚¡ç¥¨ï¼Œæ˜¯ä¸æ˜¯åŒæ¶¨åŒè·Œï¼Ÿç¨‹åº¦å¤šå¤§ï¼Ÿæ­£ç›¸å…³è¿˜æ˜¯è´Ÿç›¸å…³ï¼Ÿ</p>
</li>
<li>
<p>äº§å“é”€é‡çš„æ³¢åŠ¨ï¼Œè·Ÿå“ªäº›å› ç´ æ­£ç›¸å…³ã€è´Ÿç›¸å…³ï¼Œç¨‹åº¦æœ‰å¤šå¤§ï¼Ÿ</p>
</li>
</ol>
<p>æ¥è‡ªçŸ¥ä¹ï¼Œå¯¹äºä¸¤ä¸ªå˜é‡Xã€Yï¼š</p>
<ol>
<li>
<p>åæ–¹å·®ï¼š<em>è¡¡é‡åŒå‘åå‘ç¨‹åº¦</em> ï¼Œå¦‚æœåæ–¹å·®ä¸ºæ­£ï¼Œè¯´æ˜Xï¼ŒYåŒå‘å˜åŒ–ï¼Œåæ–¹å·®è¶Šå¤§è¯´æ˜åŒå‘ç¨‹åº¦è¶Šé«˜ï¼›å¦‚æœåæ–¹å·®ä¸ºè´Ÿï¼Œè¯´æ˜Xï¼ŒYåå‘è¿åŠ¨ï¼Œåæ–¹å·®è¶Šå°è¯´æ˜åå‘ç¨‹åº¦è¶Šé«˜ã€‚</p>
</li>
<li>
<p>ç›¸å…³ç³»æ•°ï¼š<em>è¡¡é‡ç›¸ä¼¼åº¦ç¨‹åº¦</em> ï¼Œå½“ä»–ä»¬çš„ç›¸å…³ç³»æ•°ä¸º1æ—¶ï¼Œè¯´æ˜ä¸¤ä¸ªå˜é‡å˜åŒ–æ—¶çš„æ­£å‘ç›¸ä¼¼åº¦æœ€å¤§ï¼Œå½“ç›¸å…³ç³»æ•°ä¸ºï¼1æ—¶ï¼Œè¯´æ˜ä¸¤ä¸ªå˜é‡å˜åŒ–çš„åå‘ç›¸ä¼¼åº¦æœ€å¤§</p>
</li>
</ol>
<p>ç¼–ç </p>
<ul>
<li>åæ–¹å·®çŸ©é˜µï¼š<code> df.cov()</code></li>
</ul>
<p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054680.png" alt="åæ–¹å·®çŸ©é˜µ"  />
</p>
<ul>
<li>ç›¸å…³ç³»æ•°çŸ©é˜µ <code>df.corr()</code></li>
</ul>
<p><img loading="lazy" src="https://gitee.com/shitou6/pic-cdn/raw/master/202112092054681.png" alt="ç›¸å…³ç³»æ•°çŸ©é˜µ"  />
</p>
<ul>
<li>
<p>å•ç‹¬æŸ¥çœ‹ä¸¤ä¸ªæŒ‡æ ‡çš„ç›¸å…³ç³»æ•° <code>df[&quot;aqi&quot;].corr(df[&quot;bWendu&quot;])</code></p>
</li>
<li>
<p>ç©ºæ°”è´¨é‡å’Œæ¸©å·®çš„ç›¸å…³ç³»æ•°  <code>df[&quot;aqi&quot;].corr(df[&quot;bWendu&quot;]-df[&quot;yWendu&quot;])</code></p>
</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://shiluanzzz.github.io/tags/pandas/">pandas</a></li>
      <li><a href="https://shiluanzzz.github.io/tags/python/">Python</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://shiluanzzz.github.io/post/tqdm/">
    <span class="title">Â« Prev Page</span>
    <br>
    <span>Python Tqdmè¿›åº¦æ¡ä½¿ç”¨</span>
  </a>
  <a class="next" href="https://shiluanzzz.github.io/post/paddle%E5%AE%9E%E6%88%98%E6%89%8B%E5%86%99%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/">
    <span class="title">Next Page Â»</span>
    <br>
    <span>Paddleå®æˆ˜æ‰‹å†™æ•°å­—è¯†åˆ«</span>
  </a>
</nav>

  </footer><script src="https://utteranc.es/client.js"
        repo="shiluanzzz/hugo-comments"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://shiluanzzz.github.io/">é£å¹ä¸åœ</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>

        </br>äººç”Ÿåœ¨ä¸–ï¼Œé çš„æ˜¯åšæŒä¸æ‡ˆçš„èµ°åœ¨æ­£é“ä¸Šã€‚</br>
                å‹¿å¿˜åˆè¡·ï¼Œä¸è¦è¢«ä¸–ä¿—è’™è”½äº†åŒçœ¼ã€‚
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
